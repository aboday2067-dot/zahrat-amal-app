# ğŸ”¥ Ø§Ù„Ø­Ù„ Ø§Ù„Ø³Ø±ÙŠØ¹ - Ù…Ø´ÙƒÙ„Ø© Firestore Index

## Ø§Ù„Ø®Ø·ÙˆØ§Øª Ø§Ù„Ù…Ø®ØªØµØ±Ø© (5 Ø¯Ù‚Ø§Ø¦Ù‚)

### 1ï¸âƒ£ Ø§ÙØªØ­ Firebase Console:
```
https://console.firebase.google.com/project/zahratamal-36602/firestore/indexes
```

### 2ï¸âƒ£ Ø§Ø¶ØºØ· "Create Index" (Ø¥Ù†Ø´Ø§Ø¡ ÙÙ‡Ø±Ø³)

### 3ï¸âƒ£ Ø§Ù…Ù„Ø£ Ø§Ù„Ù…Ø¹Ù„ÙˆÙ…Ø§Øª:

**Collection ID**: `chats`
**Query scope**: Collection

**Fields to index** (Ø§Ù„Ø­Ù‚ÙˆÙ„):
- **Field 1**: `participants`
  - **Query scope**: Array-contains
  
- **Field 2**: `last_message_time`
  - **Query scope**: Descending

### 4ï¸âƒ£ Ø§Ø¶ØºØ· "Create"

### 5ï¸âƒ£ Ø§Ù†ØªØ¸Ø± 2-3 Ø¯Ù‚Ø§Ø¦Ù‚ Ø­ØªÙ‰ ØªØ¸Ù‡Ø± Ø­Ø§Ù„Ø© "Enabled"

### 6ï¸âƒ£ Ø£Ø¹Ø¯ ØªØ´ØºÙŠÙ„ Ø§Ù„ØªØ·Ø¨ÙŠÙ‚

âœ… **ØªÙ… Ø§Ù„Ø­Ù„!**

---

## Ø§Ù„ÙÙ‡Ø§Ø±Ø³ Ø§Ù„Ø¥Ø¶Ø§ÙÙŠØ© (Ø§Ø®ØªÙŠØ§Ø±ÙŠ)

Ø¥Ø°Ø§ Ø¸Ù‡Ø±Øª Ù†ÙØ³ Ø§Ù„Ù…Ø´ÙƒÙ„Ø© ÙÙŠ Ø£Ù…Ø§ÙƒÙ† Ø£Ø®Ø±Ù‰:

### **Index 2: Messages**
- Collection: `messages` (Collection group)
- Fields:
  - `sender_id` (Ascending)
  - `is_read` (Ascending)
  - `created_at` (Descending)

### **Index 3: Orders**
- Collection: `orders`
- Fields:
  - `merchant_id` (Ascending)
  - `payment_status` (Ascending)
  - `created_at` (Descending)

---

## ØµÙˆØ± ØªÙˆØ¶ÙŠØ­ÙŠØ©

### ÙƒÙŠÙ ØªØ¨Ø¯Ùˆ ØµÙØ­Ø© Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„ÙÙ‡Ø±Ø³:
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Create composite index             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Collection ID:  [chats         â–¼] â”‚
â”‚  Query scope:    [Collection    â–¼] â”‚
â”‚                                     â”‚
â”‚  Fields to index:                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ Field: participants           â”‚ â”‚
â”‚  â”‚ Array-contains              â–¼ â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ Field: last_message_time      â”‚ â”‚
â”‚  â”‚ Descending                  â–¼ â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                     â”‚
â”‚  [Cancel]              [Create]    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Ø§Ù„ÙˆÙ‚Øª Ø§Ù„Ù…ØªÙˆÙ‚Ø¹
- Ø¥Ù†Ø´Ø§Ø¡: 1 Ø¯Ù‚ÙŠÙ‚Ø©
- Ø§Ù„Ø¨Ù†Ø§Ø¡: 2-3 Ø¯Ù‚Ø§Ø¦Ù‚
- **Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ**: 5 Ø¯Ù‚Ø§Ø¦Ù‚ ØªÙ‚Ø±ÙŠØ¨Ø§Ù‹

---

**Ù…Ù„Ø§Ø­Ø¸Ø©**: Ù‡Ø°Ù‡ Ø¹Ù…Ù„ÙŠØ© Ù„Ù…Ø±Ø© ÙˆØ§Ø­Ø¯Ø© ÙÙ‚Ø·! Ø¨Ø¹Ø¯ Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„ÙÙ‡Ø±Ø³ØŒ Ù„Ù† ØªØ­ØªØ§Ø¬ Ù„Ø¥Ø¹Ø§Ø¯ØªÙ‡Ø§ Ù…Ø±Ø© Ø£Ø®Ø±Ù‰.
