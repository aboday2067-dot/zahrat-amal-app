# ๐ ุฏููู ุงูููุฒุงุช ุงูุฌุฏูุฏุฉ - v7.0.0 Professional

## โ ูุง ุชู ุฅูุฌุงุฒู ุญุชู ุงูุขู

### ๐ฑ ุงููุฑุญูุฉ 1: ุชุทุจูู ุงูุฅุฏุงุฑุฉ - ูุธุงู ุงูุชูุซูู (ููุชูู)

ุชู ุฅูุดุงุก ููู `admin_auth_system.dart` ูุญุชูู ุนูู:

#### 1. ูุธุงู ุชุณุฌูู ุงูุฏุฎูู ูููุฏูุฑ โ
- **ุตูุญุฉ ุชุณุฌูู ุฏุฎูู ุงุญุชุฑุงููุฉ** ูุน:
  - ุงุณู ุงููุณุชุฎุฏู ููููุฉ ุงููุฑูุฑ
  - ุชุดููุฑ SHA-256 ููููุงุช ุงููุฑูุฑ
  - ุญูุธ ุงูุฌูุณุฉ ูู `SharedPreferences`
  - ุญุณุงุจ ุชุฌุฑูุจู: `admin` / `admin123`
- **ุงูุชุญูู ูู Firebase**: ุฑุจุท ูุน ูุฌููุนุฉ `admins` ูู Firestore
- **ุฅูุดุงุก ุชููุงุฆู ูููุฏูุฑ**: ุฅุฐุง ูู ููู ููุฌูุฏุงู

#### 2. ุตูุญุฉ ุฅุนุฏุงุฏุงุช ุงููุฏูุฑ โ
- **ุงูููู ุงูุดุฎุตู**: ุนุฑุถ ุงุณู ุงููุฏูุฑ ูุงูุตูุฑุฉ ุงูุฑูุฒูุฉ
- **ุชุนุฏูู ุงูููู ุงูุดุฎุตู**: ุชุบููุฑ ุงูุงุณู
- **ุชุบููุฑ ูููุฉ ุงููุฑูุฑ**: ูุงูุฐุฉ ุญูุงุฑูุฉ ูุชุญุฏูุซ ูููุฉ ุงููุฑูุฑ
- **ุงูุฃูุงู ูุงูุฎุตูุตูุฉ**: (ุฌุงูุฒ ููุชุทููุฑ)
- **ุงููุณุฎ ุงูุงุญุชูุงุทู**: (ุฌุงูุฒ ููุชุทููุฑ)
- **ุงูุชูุงุฑูุฑ ูุงูุฅุญุตุงุฆูุงุช**: (ุฌุงูุฒ ููุชุทููุฑ)
- **ุชุณุฌูู ุงูุฎุฑูุฌ**: ูุน ุชุฃููุฏ ููุณุญ ุงูุฌูุณุฉ

---

## ๐ง ุงูููุฒุงุช ุงูุชู ูุฌุจ ุฅููุงููุง (ุฎุทุฉ ุชูุตูููุฉ)

### ุงููุฑุญูุฉ 2: ูุธุงู ุงูููุงููุฉ ุนูู ุงูุชุฌุงุฑ ูููุงุชุจ ุงูุชูุตูู

#### ุงููููุงุช ุงููุทููุจุฉ:
1. `merchant_approval_system.dart` - ูุธุงู ุงูููุงููุฉ ุนูู ุงูุชุฌุงุฑ
2. `delivery_approval_system.dart` - ูุธุงู ุงูููุงููุฉ ุนูู ููุงุชุจ ุงูุชูุตูู

#### ุงูููุฒุงุช ุงููุทููุจุฉ:

**ุฃ. ูุงุฆูุฉ ุทูุจุงุช ุงูุชุณุฌูู:**
```dart
// ุนุฑุถ ุฌููุน ุทูุจุงุช ุงูุชุณุฌูู ุงููุนููุฉ
- ุงูุชุฌุงุฑ ุงููุนูููู (status: 'pending')
- ููุงุชุจ ุงูุชูุตูู ุงููุนููุฉ (status: 'pending')
- ุนุฑุถ ุงูุจูุงูุงุช ุงููุงููุฉ: ุงูุงุณูุ ุงูุจุฑูุฏุ ุงููุงุชูุ ุงููุฏููุฉุ ุชุงุฑูุฎ ุงูุชุณุฌูู
```

**ุจ. ูุฑุงุฌุนุฉ ุชูุตูููุฉ:**
```dart
// ุตูุญุฉ ูุฑุงุฌุนุฉ ูุงููุฉ ููุชุงุฌุฑ/ููุชุจ ุงูุชูุตูู
- ุนุฑุถ ุฌููุน ุงูุจูุงูุงุช ุงูุดุฎุตูุฉ
- ุนุฑุถ ุงููุณุชูุฏุงุช ุงููุฑููุฉ (ุฅู ูุฌุฏุช)
- ููุงุญุธุงุช ุฅุฏุงุฑูุฉ
- ุชุงุฑูุฎ ุงูุทูุจ
```

**ุฌ. ุฃุฒุฑุงุฑ ุงูููุงููุฉ/ุงูุฑูุถ:**
```dart
- ุฒุฑ "ุงูููุงููุฉ" โ ุชุญุฏูุซ status ุฅูู 'approved' + ุฅุฑุณุงู ุฅุดุนุงุฑ
- ุฒุฑ "ุงูุฑูุถ" โ ุชุญุฏูุซ status ุฅูู 'rejected' + ุณุจุจ ุงูุฑูุถ + ุฅุดุนุงุฑ
- ุฒุฑ "ุทูุจ ูุนูููุงุช ุฅุถุงููุฉ" โ status: 'pending_info'
```

**ุฏ. ุฅุดุนุงุฑุงุช ุชููุงุฆูุฉ:**
```dart
// ุนูุฏ ุงูููุงููุฉ
await FirebaseFirestore.instance.collection('notifications').add({
  'userId': merchantId,
  'title': 'ุชู ูุจูู ุทูุจู',
  'message': 'ุชูุช ุงูููุงููุฉ ุนูู ุญุณุงุจู ูุชุงุฌุฑ. ููููู ุงูุขู ุฅุถุงูุฉ ููุชุฌุงุชู.',
  'type': 'approval',
  'createdAt': DateTime.now().toIso8601String(),
});

// ุนูุฏ ุงูุฑูุถ
await FirebaseFirestore.instance.collection('notifications').add({
  'userId': merchantId,
  'title': 'ุชู ุฑูุถ ุทูุจู',
  'message': 'ุนุฐุฑุงูุ ุชู ุฑูุถ ุทูุจู. ุงูุณุจุจ: $reason',
  'type': 'rejection',
  'createdAt': DateTime.now().toIso8601String(),
});
```

---

### ุงููุฑุญูุฉ 3: ูุธุงู ุงููุฑุงุณูุฉ ุงูููุฑูุฉ (Admin Chat)

#### ุงููููุงุช ุงููุทููุจุฉ:
1. `admin_chat_system.dart` - ูุธุงู ุงูุฏุฑุฏุดุฉ ูููุฏูุฑ
2. `user_chat_screen.dart` - ูุงุฌูุฉ ุงูุฏุฑุฏุดุฉ ูููุณุชุฎุฏููู

#### ุงูููุฒุงุช ุงููุทููุจุฉ:

**ุฃ. ูุงุฆูุฉ ุงููุญุงุฏุซุงุช:**
```dart
// ุนุฑุถ ุฌููุน ุงููุณุชุฎุฏููู (ุชุฌุงุฑุ ูุดุชุฑููุ ุชูุตูู)
StreamBuilder<QuerySnapshot>(
  stream: FirebaseFirestore.instance
      .collection('users')
      .orderBy('lastMessageTime', descending: true)
      .snapshots(),
  builder: (context, snapshot) {
    // ุนุฑุถ ูุงุฆูุฉ ุงููุณุชุฎุฏููู ูุน ุขุฎุฑ ุฑุณุงูุฉ ูููุชูุง
  },
)
```

**ุจ. ุดุงุดุฉ ุงูุฏุฑุฏุดุฉ:**
```dart
// ุฏุฑุฏุดุฉ ุซูุงุฆูุฉ ุจูู ุงููุฏูุฑ ูุงููุณุชุฎุฏู
- ุนุฑุถ ุงูุฑุณุงุฆู ุจุชุฑุชูุจ ุฒููู
- ุฅุฑุณุงู ุฑุณุงุฆู ูุตูุฉ
- ุฅุฑุณุงู ุตูุฑ (ุงุฎุชูุงุฑู)
- ุญุงูุฉ ุงููุฑุงุกุฉ (read/unread)
- ููุช ุงูุฅุฑุณุงู
```

**ุฌ. ูููู ุจูุงูุงุช Firebase:**
```javascript
// ูุฌููุนุฉ: chats
{
  chatId: "admin_userId",
  participants: ["admin", "userId"],
  lastMessage: "ุขุฎุฑ ุฑุณุงูุฉ",
  lastMessageTime: "2025-12-24T...",
  unreadCountAdmin: 0,
  unreadCountUser: 2
}

// ูุฌููุนุฉ: messages
{
  chatId: "admin_userId",
  senderId: "admin",
  receiverId: "userId",
  message: "ูุต ุงูุฑุณุงูุฉ",
  timestamp: "2025-12-24T...",
  isRead: false,
  type: "text" // or "image"
}
```

---

### ุงููุฑุญูุฉ 4: ุงูุชุทุจูู ุงูุฑุณูู - ุตูุญุงุช ุดุฎุตูุฉ ููุตูุฉ

#### ุงููููุงุช ุงููุทููุจุฉ:
1. `merchant_profile_screen.dart` - ุตูุญุฉ ุงูุชุงุฌุฑ
2. `buyer_profile_screen.dart` - ุตูุญุฉ ุงููุดุชุฑู
3. `delivery_profile_screen.dart` - ุตูุญุฉ ููุชุจ ุงูุชูุตูู

#### ุงูููุฒุงุช ููู ููุน ุญุณุงุจ:

**ุฃ. ุตูุญุฉ ุงูุชุงุฌุฑ:**
```dart
- ูุนูููุงุช ุดุฎุตูุฉ (ุงุณูุ ุจุฑูุฏุ ูุงุชูุ ุนููุงู)
- ุงูููุชุฌุงุช ุงููุถุงูุฉ (ุนุฏุฏุ ูุงุฆูุฉ)
- ุงูุทูุจุงุช ุงููุณุชููุฉ (ุนุฏุฏุ ุญุงูุฉ)
- ุงูุชููููุงุช ูุงููุฑุงุฌุนุงุช
- ุงูุฅุญุตุงุฆูุงุช (ูุจูุนุงุชุ ุฃุฑุจุงุญ)
- ุฅุนุฏุงุฏุงุช ุงูุญุณุงุจ
- ุงูุฏุฑุฏุดุฉ ูุน ุงููุฏูุฑ
```

**ุจ. ุตูุญุฉ ุงููุดุชุฑู:**
```dart
- ูุนูููุงุช ุดุฎุตูุฉ
- ุงูุทูุจุงุช ุงูุณุงุจูุฉ (ุนุฏุฏุ ุชุงุฑูุฎุ ุญุงูุฉ)
- ุงูููุถูุฉ
- ุงูุนูุงููู ุงููุญููุธุฉ
- ููุงุท ุงูููุงุก
- ุงูุฅุดุนุงุฑุงุช
- ุงูุฏุฑุฏุดุฉ ูุน ุงูุชุฌุงุฑ ูุงููุฏูุฑ
```

**ุฌ. ุตูุญุฉ ููุชุจ ุงูุชูุตูู:**
```dart
- ูุนูููุงุช ุดุฎุตูุฉ ููุนูููุงุช ุงูููุชุจ
- ุงูุทูุจุงุช ุงููุนููุฉ (ููุฏ ุงูุชูุตููุ ุชู ุงูุชูุตูู)
- ููุงุทู ุงูุชุบุทูุฉ
- ุงูุฃุณุนุงุฑ ุญุณุจ ุงูููุทูุฉ
- ุงูุชููููุงุช
- ุงูุฏุฑุฏุดุฉ ูุน ุงููุฏูุฑ
```

---

### ุงููุฑุญูุฉ 5: ูุธุงู ุทุฑู ุงูุฏูุน ุงููุญููุฉ

#### ุงููููุงุช ุงููุทููุจุฉ:
1. `payment_methods_screen.dart` - ุตูุญุฉ ุทุฑู ุงูุฏูุน
2. `vodafone_cash_payment.dart` - ุงูุฏูุน ุนุจุฑ Vodafone Cash
3. `cash_on_delivery.dart` - ุงูุฏูุน ุนูุฏ ุงูุงุณุชูุงู

#### ุงูููุฒุงุช ุงููุทููุจุฉ:

**ุฃ. Vodafone Cash:**
```dart
- ุฅุฏุฎุงู ุฑูู ุงููุงุชู
- ุฅุฏุฎุงู ุฑูุฒ ุงูุชุฃููุฏ
- ุฑูุน ุฅูุตุงู ุงูุฏูุน (ุตูุฑุฉ)
- ุชุฃููุฏ ุงูุฏูุน
```

**ุจ. ุงูุฏูุน ุนูุฏ ุงูุงุณุชูุงู:**
```dart
- ุชุฃููุฏ ุงูุทูุจ
- ุฑุณูู ุฅุถุงููุฉ (ุฅู ูุฌุฏุช)
- ุชุนูููุงุช ุงูุงุณุชูุงู
```

---

### ุงููุฑุญูุฉ 6: ูุธุงู ุงูุฏุฑุฏุดุฉ ุงูููุฑูุฉ (ุชุงุฌุฑ-ูุดุชุฑู-ุชูุตูู)

#### ุงููููุงุช ุงููุทููุจุฉ:
1. `merchant_buyer_chat.dart` - ุฏุฑุฏุดุฉ ุชุงุฌุฑ-ูุดุชุฑู
2. `delivery_buyer_chat.dart` - ุฏุฑุฏุดุฉ ุชูุตูู-ูุดุชุฑู
3. `chat_list_screen.dart` - ูุงุฆูุฉ ุฌููุน ุงููุญุงุฏุซุงุช

#### ุงูุณููุงุฑูููุงุช:
```dart
1. ุงููุดุชุฑู ูุชูุงุตู ูุน ุงูุชุงุฌุฑ ุญูู ุงูููุชุฌ
2. ุงููุดุชุฑู ูุชูุงุตู ูุน ููุชุจ ุงูุชูุตูู ุจุนุฏ ุงูุดุญู
3. ุงูุชุงุฌุฑ ูุชูุงุตู ูุน ููุชุจ ุงูุชูุตูู ูุชูุณูู ุงูุดุญู
```

---

### ุงููุฑุญูุฉ 7: ูุธุงู ุฑูุน ุงูุฅูุตุงูุงุช

#### ุงููููุงุช ุงููุทููุจุฉ:
1. `receipt_upload_system.dart` - ุฑูุน ุงูุฅูุตุงู
2. `receipt_viewer.dart` - ุนุฑุถ ุงูุฅูุตุงู

#### ุงูููุฒุงุช:
```dart
- ุฑูุน ุตูุฑุฉ ุงูุฅูุตุงู
- ุฑุจุทูุง ุจุงูุทูุจ (orderId)
- ุชุฎุฒูู ูู Firebase Storage
- ุนุฑุถ ุงูุฅูุตุงู ููุชุงุฌุฑ ูุงููุดุชุฑู ูููุชุจ ุงูุชูุตูู
- ุชุญููู ุงูุฅูุตุงู
```

---

### ุงููุฑุญูุฉ 8: ูุธุงู ุชุฃููุฏ ุงูุทูุจุงุช ูู ุงูุชุงุฌุฑ

#### ุงููููุงุช ุงููุทููุจุฉ:
1. `merchant_order_confirmation.dart` - ุชุฃููุฏ ุงูุชุงุฌุฑ ููุทูุจ

#### ุฎุทูุงุช ุงูุนูููุฉ:
```dart
1. ุงููุดุชุฑู ูุฏูุน ููุฑูุน ุฅูุตุงู ุงูุฏูุน
2. ุงูุทูุจ ูุตู ููุชุงุฌุฑ ูุน ุญุงูุฉ 'pending_merchant_approval'
3. ุงูุชุงุฌุฑ ูุฑุงุฌุน ุงูุทูุจ ูุงูุฏูุน
4. ุงูุชุงุฌุฑ ูุถุบุท "ุชุฃููุฏ ุงูุทูุจ"
5. ุงูุทูุจ ููุชูู ุฅูู 'confirmed' โ ูุจุฏุฃ ุงูุชุญุถูุฑ
6. ุฅูุตุงู ุฑุณูู ูููุดุฃ ูููุฑุณู ูููุดุชุฑู ูููุชุจ ุงูุชูุตูู
```

---

### ุงููุฑุญูุฉ 9: ุฅุฑุณุงู ุงูุฅูุตุงู ุจุนุฏ ุงูุชุฃููุฏ

#### ุงูููุฒุงุช:
```dart
// ุจุนุฏ ุชุฃููุฏ ุงูุชุงุฌุฑ
1. ุฅูุดุงุก ุฅูุตุงู ุฑุณูู (PDF ุฃู ุตูุฑุฉ)
2. ุฑูุน ุงูุฅูุตุงู ุฅูู Firebase Storage
3. ุฅุฑุณุงู ูุณุฎุฉ ูููุดุชุฑู (ุฅุดุนุงุฑ + ุฑุงุจุท ุชุญููู)
4. ุฅุฑุณุงู ูุณุฎุฉ ูููุชุจ ุงูุชูุตูู (ุฅุดุนุงุฑ + ุฑุงุจุท)
5. ุญูุธ ุฑุงุจุท ุงูุฅูุตุงู ูู ูุณุชูุฏ ุงูุทูุจ
```

---

## ๐ ูููู Firebase ุงููุทููุจ (ุฅุถุงูุงุช ุฌุฏูุฏุฉ)

### ูุฌููุนุฉ: `admins`
```javascript
{
  adminId: "auto-generated",
  username: "admin",
  password: "hashed-password",
  name: "ุงููุฏูุฑ ุงูุนุงู",
  email: "admin@zahrat-amal.com",
  role: "super_admin",
  createdAt: "2025-12-24T..."
}
```

### ูุฌููุนุฉ: `merchants` (ุชุญุฏูุซ)
```javascript
{
  merchantId: "...",
  status: "pending", // or "approved", "rejected"
  approvalDate: "2025-12-24T...",
  rejectionReason: "",
  // ... ุจุงูู ุงูุจูุงูุงุช
}
```

### ูุฌููุนุฉ: `delivery_offices` (ุชุญุฏูุซ)
```javascript
{
  officeId: "...",
  status: "pending", // or "approved", "rejected"
  approvalDate: "2025-12-24T...",
  rejectionReason: "",
  // ... ุจุงูู ุงูุจูุงูุงุช
}
```

### ูุฌููุนุฉ: `chats`
```javascript
{
  chatId: "admin_userId",
  participants: ["admin", "userId"],
  lastMessage: "...",
  lastMessageTime: "...",
  unreadCountAdmin: 0,
  unreadCountUser: 2
}
```

### ูุฌููุนุฉ: `messages`
```javascript
{
  messageId: "auto-generated",
  chatId: "admin_userId",
  senderId: "admin",
  receiverId: "userId",
  message: "ูุต ุงูุฑุณุงูุฉ",
  timestamp: "2025-12-24T...",
  isRead: false,
  type: "text"
}
```

### ูุฌููุนุฉ: `payment_receipts`
```javascript
{
  receiptId: "auto-generated",
  orderId: "ORDER-123",
  userId: "buyer-id",
  merchantId: "merchant-id",
  imageUrl: "storage-url",
  uploadedAt: "2025-12-24T...",
  status: "pending_verification"
}
```

---

## ๐ ุฎุทูุงุช ุงูุชูููุฐ ุงูููุตู ุจูุง

### ุงูุฃููููุฉ 1: ูุธุงู ุงูุชูุซูู (ููุชูู โ)
- ุชุณุฌูู ุฏุฎูู ุงููุฏูุฑ โ
- ุฅุนุฏุงุฏุงุช ุงููุฏูุฑ โ

### ุงูุฃููููุฉ 2: ูุธุงู ุงูููุงููุฉ (ููุฏ ุงูุชูููุฐ)
- ุงูููุงููุฉ ุนูู ุงูุชุฌุงุฑ
- ุงูููุงููุฉ ุนูู ููุงุชุจ ุงูุชูุตูู

### ุงูุฃููููุฉ 3: ุงููุฑุงุณูุฉ ุงูููุฑูุฉ
- ุฏุฑุฏุดุฉ ุงููุฏูุฑ ูุน ุงููุณุชุฎุฏููู
- ุฏุฑุฏุดุฉ ุจูู ุงูุชุฌุงุฑ ูุงููุดุชุฑูู

### ุงูุฃููููุฉ 4: ุงูุตูุญุงุช ุงูุดุฎุตูุฉ
- ุตูุญุฉ ุงูุชุงุฌุฑ ุงูููุตูุฉ
- ุตูุญุฉ ุงููุดุชุฑู ุงูููุตูุฉ
- ุตูุญุฉ ููุชุจ ุงูุชูุตูู

### ุงูุฃููููุฉ 5: ูุธุงู ุงูุฏูุน ูุงูุฅูุตุงูุงุช
- ุทุฑู ุงูุฏูุน ุงููุญููุฉ
- ุฑูุน ุงูุฅูุตุงูุงุช
- ุชุฃููุฏ ุงูุทูุจุงุช
- ุฅุฑุณุงู ุงูุฅูุตุงู ุงูููุงุฆู

---

## ๐ ูููุทูุฑูู

**ูุธุฑุงู ูุถุฎุงูุฉ ุงูููุงู**ุ ูููุตุญ ุจุชูุณูู ุงูุนูู ุฅูู ูุฑุงุญู ุตุบูุฑุฉ:

1. **ุงุจุฏุฃ ุจุงููุฑุญูุฉ 2** (ุงูููุงููุฉ ุนูู ุงูุชุฌุงุฑ)
2. **ุงุฎุชุจุฑ ูู ููุฒุฉ** ูุจู ุงูุงูุชูุงู ููุชุงููุฉ
3. **ุงุณุชุฎุฏู Firebase Emulator** ููุชุทููุฑ ุงููุญูู
4. **ูุซูู ูู API** ู Collection ูู Firestore

---

## ๐ฏ ุงูููุฎุต

ุชู ุฅูุฌุงุฒ **ุงููุฑุญูุฉ 1** ุจูุฌุงุญ (ูุธุงู ุงูุชูุซูู ูููุฏูุฑ).

**ุงูุฎุทูุงุช ุงูุชุงููุฉ**:
- ุงููุฑุญูุฉ 2: ูุธุงู ุงูููุงููุฉ (3-5 ุณุงุนุงุช ุนูู)
- ุงููุฑุญูุฉ 3: ุงููุฑุงุณูุฉ ุงูููุฑูุฉ (5-7 ุณุงุนุงุช ุนูู)
- ุงููุฑุญูุฉ 4-9: ุจุงูู ุงูููุฒุงุช (15-20 ุณุงุนุฉ ุนูู)

**ุฅุฌูุงูู ุงูููุช ุงููุชููุน ููุฅููุงู ุงููุงูู: 25-35 ุณุงุนุฉ ุนูู**

---

**๐ก ูุตูุญุฉ**: ุฑูุฒ ุนูู ุฅููุงู ูู ูุฑุญูุฉ ุจุดูู ูุงูู ูุจู ุงูุงูุชูุงู ููุชุงููุฉ ูุถูุงู ุฌูุฏุฉ ุงูููุฏ ูุงุณุชูุฑุงุฑ ุงููุธุงู.

*ุขุฎุฑ ุชุญุฏูุซ: 24 ุฏูุณูุจุฑ 2025 - v7.0.0 (ููุฏ ุงูุชุทููุฑ)*
